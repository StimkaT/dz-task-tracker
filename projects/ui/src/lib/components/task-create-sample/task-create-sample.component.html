<mat-card>
  <mat-card-content>

    <div>
      <mat-form-field>
        <mat-label>Title task</mat-label>
        <input matInput title="name"  [(ngModel)]="name">
        @if (name) {
          <button matSuffix mat-icon-button aria-label="Clear" (click)="name=''">
            <mat-icon>close</mat-icon>
          </button>
        }
      </mat-form-field>
    </div>

    <div>
      <mat-form-field>
        <mat-label>Description task</mat-label>
        <textarea matInput [(ngModel)]="description"></textarea>
        @if (description) {
          <button matSuffix mat-icon-button aria-label="Clear" (click)="description=''">
            <mat-icon>close</mat-icon>
          </button>
        }
      </mat-form-field>
    </div>

    <div align="center">
        <button mat-stroked-button [matMenuTriggerFor]="executor">{{ User }}</button>
        <mat-menu #executor="matMenu">
          @for (item of executorList; track name) {
            <button mat-menu-item (click)="buttonClick(item.name, 'setExecutor')">{{ item.name }}</button>
          }
        </mat-menu>
    </div>

    <div align="center">
      <mat-form-field (click)="picker.open()">
        <mat-label>Choose a date</mat-label>
        <input matInput [matDatepicker]="picker">
        <mat-hint>MM/DD/YYYY</mat-hint>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
    </div>

    <div align="center">
      <button mat-stroked-button [matMenuTriggerFor]="priority">{{ Priority }}</button>
      <mat-menu #priority="matMenu">
        @for (item of priorityList; track name) {
        <button mat-menu-item (click)="buttonClick(item.name, 'setPriority')">{{ item.name }}</button>
        }
      </mat-menu>
    </div>

    <div align="center">
      <button mat-stroked-button [matMenuTriggerFor]="status">{{ Status }}</button>
      <mat-menu #status="matMenu">
        @for (item of statusList; track name) {
          <button mat-menu-item (click)="buttonClick(item.name, 'setStatus')">{{ item.name }}</button>
        }
      </mat-menu>
    </div>

    <mat-card-actions>
      <button mat-button (click)="closePop()">Close</button>
      <button  mat-button [disabled]="!name || !description" (click)="createTask(name, description)">add task</button>
    </mat-card-actions>
  </mat-card-content>
</mat-card>
